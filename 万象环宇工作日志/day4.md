# 2024年7月28日 16:01:45
------------------------------------------------
## 工作目标:
1.加入resohook并重构首页的css代码使其支持响应式分辨率适配.

2.整理项目的环境变量,使其 ajax请求的url符合各个发布(development/gray/production)环境。

3.首页的登录组件在加载时显示一个加载中的动画以改进用户体验.

4.首页的【开发环境】登录接口的返回值code和data.account_info看起来和【正式环境】不太一致(正式环境code 返回1为成功登录0为失败，account_info字段在正式环境里为info)，需要和后端同学沟通。

5.首页的create文本框中的文本打字效果改成了真实的文本追加。

------------------------------------------------
## 已经完成的任务:
1.加入resohook并重构首页的css代码使其支持响应式分辨率适配.

    --已经完成首页的适配，内页功能暂时还没进行适配，但是组件已经引入项目，之后适配工作会稍微轻松点。

2.整理项目的环境变量,使其 ajax请求的url符合各个发布(development/gray/production)环境。

    --已经整理完成，可以在项目里直接使用SYS_ENV获取当前的运行环境
    更新了package.json,增加了一些命令：
    
    编译正式版本:SYS_ENV=production
    "build": "cross-env SYS_ENV=production umi build"

    编译测试版本:SYS_ENV=development
    "buildTest": "cross-env SYS_ENV=development umi build"

    等等，package.json中增加了相关命令的说明

3.首页的登录组件在加载时显示一个加载中的动画以改进用户体验.

    --已经完成，当前的行为逻辑是在用户进入到首页的时候，如果鼠标在页面上移动了第一下，就会开始预加载登录框
    但是按钮不会显示加载动画，当用户点击launch App按钮时，会检测登录组件是否加载完成，加载完成旧直接显示，没加载完成就会在按钮上显示加载动画直到加载完成。登录组件加载完成后就缓存到页面中了，不会反复加载。

4.首页的【开发环境】登录接口的返回值code和data.account_info看起来和【正式环境】不太一致(正式环境code 返回1为成功登录0为失败，account_info字段在正式环境里为info)，需要和后端同学沟通。

    --已经发送消息，明天跟进一下。实际上这两个情况我已经在代码里处理好了，是否登录成功我判断data是否为空而不是用code,account_info字段则是使用了环境变量进行检查，但这样做不是最佳实践，还是需要后端同学周一帮忙看看。

5.首页的create文本框中的文本打字效果改成了真实的文本追加。

    --已经完成，完成的方法是使用自己写的TextPrinter组件做的。

------------------------------------------------
## 明天的工作任务:
1.学习umi中model的使用。
2.了解并学习音乐生成界面中的业务逻辑。
3.尝试阅读上任前端负责人的业务代码。